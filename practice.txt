<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A Special Question</title>
  <style>
    :root{
      --bg1:#ffecd2; --bg2:#fcb69f;
      --card:#fff; --accent:#e73c7e; --muted:#6b6b6b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Roboto,"Segoe UI",sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;
      padding:2rem;
    }

    .card{
      width:100%; max-width:420px;
      background:linear-gradient(180deg,rgba(255,255,255,.98),var(--card));
      border-radius:18px; padding:1.6rem;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      text-align:center; position:relative; overflow:hidden;
    }

    .ring{
      position:absolute; right:-60px; top:-60px;
      width:220px; height:220px; border-radius:50%;
      background:radial-gradient(circle at 30% 30%, rgba(231,60,126,.12), transparent 40%),
                 radial-gradient(circle at 70% 70%, rgba(231,60,126,.06), transparent 40%);
      transform:rotate(15deg); pointer-events:none;
    }

    h1{
      margin:0 0 .4rem 0; font-size:1.4rem; color:var(--accent);
      letter-spacing:.2px;
    }
    p.lead{margin:0 0 1rem 0; color:var(--muted); font-size:.95rem}
    .heart{
      width:96px; height:96px; margin:0 auto .8rem;
      transform:translateY(0); animation:float 3s ease-in-out infinite;
    }
    @keyframes float{50%{transform:translateY(-8px)}}

    .controls{display:flex; gap:.6rem; justify-content:center; margin-top:.6rem}
    button{
      border:0; padding:.8rem 1.2rem; border-radius:10px; font-weight:600;
      font-size:1rem; cursor:pointer;
      box-shadow:0 6px 14px rgba(0,0,0,.08);
    }
    .btn-yes{background:linear-gradient(90deg,#ff6188,#e73c7e); color:#fff}
    .btn-no{background:transparent; color:var(--muted); border:1px solid rgba(0,0,0,.06)}

    /* Reveal overlay */
    .overlay{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,.45); visibility:hidden; opacity:0; transition:all .28s;
    }
    .overlay.show{visibility:visible; opacity:1}
    .modal{
      width:90%; max-width:420px; background:#fff; padding:1.4rem; border-radius:14px;
      text-align:center; transform:translateY(10px); transition:transform .28s;
    }
    .overlay.show .modal{transform:translateY(0)}
    .message{font-size:1rem; color:#333; margin-bottom:.8rem}
    .small{font-size:.85rem; color:var(--muted)}

    /* Floating hearts for celebration */
    .confetti{position:fixed; inset:0; pointer-events:none; overflow:hidden}
    .confetti i{position:absolute; width:14px; height:14px; transform:rotate(45deg);
      background:var(--accent); left:50%; top:30%; opacity:0; border-radius:3px;
      animation:shoot 1.6s linear forwards;
    }
    .confetti i:nth-child(odd){background:#ffb3c6}
    @keyframes shoot{
      0%{opacity:1; transform:translateY(0) scale(.8)}
      100%{opacity:0; transform:translate(var(--tx,0px), var(--ty,120vh)) rotate(90deg) scale(.9)}
    }

    /* Responsive tweaks */
    @media (min-width:480px){
      h1{font-size:1.6rem}
    }
    @media (max-width:360px){
      .heart{width:80px;height:80px}
      button{padding:.7rem .9rem; font-size:.95rem}
    }
  </style>
</head>
<body>
  <div class="card" role="main" aria-labelledby="title">
    <div class="ring" aria-hidden="true"></div>

    <svg class="heart" viewBox="0 0 32 29" aria-hidden="true">
      <path fill="#e73c7e" d="M23.6 0C20.9 0 18.6 1.5 16 3.9 13.4 1.5 11.1 0 8.4 0 3.8 0 0 3.6 0 8.2 0 15.1 7.6 19.6 16 29c8.4-9.4 16-13.9 16-20.8C32 3.6 28.2 0 23.6 0z"/>
    </svg>

    <h1 id="title">A question from me to you</h1>
    <p class="lead">You mean the world to me. Will you be my girlfriend?</p>

    <div class="controls" role="group" aria-label="proposal choices">
      <button class="btn-yes" id="yesBtn" aria-haspopup="dialog">Yes ðŸ’–</button>
      <button class="btn-no" id="noBtn">Not yet</button>
    </div>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <h2 style="margin:0 0 .4rem 0;color:var(--accent)">I'm so happy!</h2>
      <p class="message">Thank you. I promise to be kind, listen, and make you smile every day.</p>
      <p class="small">Tap "Send Message" to notify me, or close to keep it private.</p>
      <div style="display:flex;gap:.6rem;justify-content:center;margin-top:1rem">
        <button class="btn-yes" id="sendBtn">Send Message</button>
        <button class="btn-no" id="closeBtn">Close</button>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <script>
    const yes = document.getElementById('yesBtn');
    const no = document.getElementById('noBtn');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const sendBtn = document.getElementById('sendBtn');
    const confetti = document.getElementById('confetti');

    function explodeHearts(count=24){
      confetti.innerHTML='';
      for(let i=0;i<count;i++){
        const el = document.createElement('i');
        const tx = (Math.random()*2-1)*120 + 'vw';
        const ty = (Math.random()*0.6+0.6)*-100;
        el.style.setProperty('--tx', tx);
        el.style.setProperty('--ty', ty + 'vh');
        el.style.left = (50 + (Math.random()*60-30)) + '%';
        el.style.top = (20 + Math.random()*30) + '%';
        el.style.background = i%2 ? '#ffb3c6' : '#e73c7e';
        el.style.animationDelay = (Math.random()*0.12)+'s';
        confetti.appendChild(el);
      }
      // auto-clear after animation
      setTimeout(()=> confetti.innerHTML='', 2000);
    }

    yes.addEventListener('click', ()=>{
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
      explodeHearts(30);
    });

    closeBtn.addEventListener('click', ()=>{
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
    });

    // playful no button: gently move it away on mobile to encourage yes
    no.addEventListener('click', (e)=>{
      const btn = e.currentTarget;
      btn.style.transform = 'translateX(' + ((Math.random()*140)-70) + 'px) translateY(' + (Math.random()*12-6) + 'px)';
      btn.style.transition = 'transform .25s';
      setTimeout(()=>{ btn.style.transform=''; }, 700);
    });

    sendBtn.addEventListener('click', ()=>{
      // simple behavior for demo: create a share intent on mobile or copy text
      const text = "Yes â€” I said yes! ðŸ’–";
      if(navigator.share){
        navigator.share({title:'Good News', text}).catch(()=>{});
      } else {
        navigator.clipboard?.writeText(text).then(()=> {
          sendBtn.textContent = 'Copied âœ”';
          setTimeout(()=> sendBtn.textContent = 'Send Message',1500);
        }).catch(()=> {
          sendBtn.textContent = 'Sent';
        });
      }
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      explodeHearts(40);
    });

    // Accessibility: close overlay with Escape
    document.addEventListener('keydown', (e)=>{
      if(e.key==='Escape') {
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden','true');
      }
    });
  </script>
</body>
</html>